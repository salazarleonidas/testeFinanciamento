<div class="container">
    <div *ngIf="!submitted">
        <h1>Financiamento</h1>
        <form [formGroup]="financiamentoForm" (ngSubmit)="onSubmit(financiamentoForm)">
            <div class="form-group">
                <label for="tipo">Tipo Financiamento</label>
                <select class="form-control" formControlName="tipo">
                  <option *ngFor="let p of tipos" [value]="p">{{p}}</option>
                </select>
                <div class="alert alert-danger" [hidden]="financiamentoForm.controls['tipo'].valid">Tipo Financiamento is required</div>
            </div>
            <div class="form-group">
                <label for="valor">Valor</label>
                <input type="number" class="form-control" formControlName="valor" />
                <div class="alert alert-danger" [hidden]="financiamentoForm.controls['valor'].valid">Valor is required</div>
            </div>
            <div class="form-group">
                <label for="quantidadeParcelas">Quantidade de parcelas</label>
                <input type="number" class="form-control" formControlName="quantidadeParcelas" />
                <div class="alert alert-danger" [hidden]="financiamentoForm.controls['quantidadeParcelas'].valid">Quantidade de parcelas is required</div>
            </div>
            <div class="form-group">
                <label for="dataPrimeiraParcela">Data do primeiro vencimento</label>
                <input type="date" class="form-control" formControlName="dataPrimeiraParcela" />
                <div class="alert alert-danger" [hidden]="financiamentoForm.controls['dataPrimeiraParcela'].valid">Data do primeiro vencimento is required and must be a valid email pattern</div>
            </div>
            <button type="submit" class="btn btn-default" [disabled]="!financiamentoForm.valid">Calcular</button> 
        </form>  
    </div>
                                
    <div *ngIf="submitted" >
        <h2>Resultado:</h2>
        <div class="row">
            <div class="col-md-2">Status: </div>
            <div class="col-md-10 pull-left" >{{ submittedModel.Status }}</div>
        </div>
        <div class="row">
            <div class="col-md-2">Data primeiro vencimento: </div>
            <div class="col-md-10 pull-left">{{ submittedModel.DataPrimeiraParcela }}</div>
        </div>
        <div class="row">
            <div class="col-md-2">Quantidade de parcelas: </div>
            <div class="col-md-10 pull-left">{{ submittedModel.QuantidadeParcelas }}</div>
        </div>
        <div class="row">
            <div class="col-md-2">Tipo: </div>
            <div class="col-md-10 pull-left">{{ submittedModel.Tipo }}</div>
        </div>
        <div class="row">
            <div class="col-md-2">Valor Total: </div>
            <div class="col-md-10 pull-left">R${{ submittedModel.Valor }}</div>
        </div>
        <div class="row">
            <div class="col-md-2">Valor Juros: </div>
            <div class="col-md-10 pull-left">R${{ submittedModel.ValorJuros }}</div>
        </div>
        <br />
        <button class="btn btn-default" (click)="submitted=false">Recalcular</button>
    </div>    
</div>